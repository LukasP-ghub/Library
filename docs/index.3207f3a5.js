class t{constructor({author:t,title:e,readPriority:r,category:o}){this.setAuthor(t),this.setTitle(e),this.setReadPriority(r),this.setCategory(o)}setAuthor(t){this._author=this.validateAuthor(t)}setTitle(t){this._title=this.validateTitle(t)}setReadPriority(t){this._readPriority=this.validateReadPriority(Number(t))}setCategory(t){this._category=this.validateCategory(t)}getAuthor(){return this._author}getTitle(){return this._title}getReadPriority(){return this._readPriority}getCategory(){return this._category}validateAuthor(t){if(!t)throw new Error("No author name");if("string"!=typeof t)throw new Error("Wrong data type. String expected.");if(t.length<3)throw new Error("Author name is too short");return t}validateTitle(t){if(!t)throw new Error("No title name");if("string"!=typeof t)throw new Error("Wrong data type. String expected.");if(t.length<1)throw new Error("Title name is too short");return t}validateReadPriority(t){if(!t)throw new Error("No priority value.");if("number"!=typeof t||isNaN(t))throw new Error("Wrong data type. Number expected.");if(t<1||t>5)throw new Error("Priority should be between 1 and 5");return t}validateCategory(t){if(!t)throw new Error("No category value.");if("string"!=typeof t)throw new Error("Wrong data type. String expected.");return t}}(new class extends class{constructor(){this.bookTitle=document.querySelector("[data-bookTitle]"),this.bookAuthor=document.querySelector("[data-bookAuthor]"),this.readPriority=document.querySelector("[data-readPriority]"),this.bookCategory=document.querySelector("[data-bookCategory]"),this.sendBtn=document.querySelector("[data-sendBtn]"),this.booksList=document.querySelector("[data-bookList]"),this.addBookForm=document.querySelector("[data-addBookForm]")}}{constructor(){super(),this._books=[]}getBooks(){return Array.isArray(this._books)?this._books:[]}setBooks(e){if(e instanceof t)return this._books.push(e);let r=e;Array.isArray(r)&&r.length>0?this._books=r.map((({title:e,author:r,readPriority:o,category:i})=>new t({title:e,author:r,readPriority:o,category:i}))):this._books=[]}mapBooksData(t){return t.map((t=>({title:t.getTitle(),author:t.getAuthor(),readPriority:t.getReadPriority(),category:t.getCategory()})))}printBooksOnScreen(){this.booksList.innerHTML='\n        <p class="author columnHeader">Author</p>\n        <p class="title columnHeader">Title</p>\n        <p class="priority columnHeader">Read priority</p>\n        <p class="category columnHeader">Category</p>',this.getBooks().map((t=>{const e=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),i=document.createElement("p");e.textContent=t.getTitle(),r.textContent=t.getAuthor(),o.textContent=t.getReadPriority(),i.textContent=t.getCategory(),e.classList.add("title","cell"),r.classList.add("author","cell"),o.classList.add("priority","cell"),i.classList.add("category","cell"),this.booksList.appendChild(e),this.booksList.appendChild(r),this.booksList.appendChild(o),this.booksList.appendChild(i)}))}handleAddBook(e){e.preventDefault();const r=new t({title:this.bookTitle.value,author:this.bookAuthor.value,readPriority:this.readPriority.value,category:this.bookCategory.value});return this.setBooks(r),localStorage.setItem("books",JSON.stringify(this.mapBooksData(this.getBooks()))),this.printBooksOnScreen(),this.addBookForm.reset(),!1}init(){this.setBooks(JSON.parse(localStorage.getItem("books"))),this.printBooksOnScreen(),this.addBookForm.addEventListener("submit",this.handleAddBook.bind(this))}}).init();
//# sourceMappingURL=index.3207f3a5.js.map
