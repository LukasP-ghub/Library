{"mappings":"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","sources":["js/book.js","js/selectors.js","js/index.js"],"sourcesContent":["export class Book {\r\n  constructor({ author, title, readPriority, category }) {\r\n    this.setAuthor(author);\r\n    this.setTitle(title);\r\n    this.setReadPriority(readPriority);\r\n    this.setCategory(category);\r\n  }\r\n\r\n  setAuthor(author) {\r\n    this._author = this.validateAuthor(author);\r\n  }\r\n\r\n  setTitle(title) {\r\n    this._title = this.validateTitle(title);\r\n  }\r\n\r\n  setReadPriority(readPriority) {\r\n    this._readPriority = this.validateReadPriority(Number(readPriority));\r\n  }\r\n\r\n  setCategory(category) {\r\n    this._category = this.validateCategory(category);\r\n  }\r\n\r\n  getAuthor() {\r\n    return this._author;\r\n  }\r\n  getTitle() {\r\n    return this._title;\r\n  }\r\n  getReadPriority() {\r\n    return this._readPriority;\r\n  }\r\n  getCategory() {\r\n    return this._category;\r\n  }\r\n\r\n  validateAuthor(author) {\r\n    if (!author) throw new Error('No author name');\r\n    if (typeof author !== 'string') throw new Error('Wrong data type. String expected.');\r\n    if (author.length < 3) throw new Error('Author name is too short');\r\n    return author;\r\n  }\r\n\r\n  validateTitle(title) {\r\n    if (!title) throw new Error('No title name');\r\n    if (typeof title !== 'string') throw new Error('Wrong data type. String expected.');\r\n    if (title.length < 1) throw new Error('Title name is too short');\r\n    return title;\r\n  }\r\n\r\n  validateReadPriority(priority) {\r\n    if (!priority) throw new Error('No priority value.');\r\n    if (typeof priority !== 'number' || isNaN(priority)) throw new Error('Wrong data type. Number expected.');\r\n    if (priority < 1 || priority > 5) throw new Error('Priority should be between 1 and 5');\r\n    return priority;\r\n  }\r\n\r\n  validateCategory(category) {\r\n    if (!category) throw new Error('No category value.');\r\n    if (typeof category !== 'string') throw new Error('Wrong data type. String expected.');\r\n    return category;\r\n  }\r\n}","export class Selectors {\r\n  constructor() {\r\n    this.bookTitle = document.querySelector('[data-bookTitle]');\r\n    this.bookAuthor = document.querySelector('[data-bookAuthor]');\r\n    this.readPriority = document.querySelector('[data-readPriority]');\r\n    this.bookCategory = document.querySelector('[data-bookCategory]');\r\n    this.sendBtn = document.querySelector('[data-sendBtn]');\r\n    this.booksList = document.querySelector('[data-bookList]');\r\n    this.addBookForm = document.querySelector('[data-addBookForm]');\r\n  }\r\n}","import { Selectors } from './selectors';\r\nimport { Book } from './book';\r\n\r\nclass App extends Selectors {\r\n  constructor() {\r\n    super();\r\n    this._books = [];\r\n  }\r\n\r\n  getBooks() {\r\n    if (!Array.isArray(this._books)) return [];\r\n    return this._books;\r\n  }\r\n\r\n  setBooks(book) {\r\n    if (book instanceof Book) return this._books.push(book);\r\n    let books = book;\r\n    if (Array.isArray(books) && books.length > 0) {\r\n      this._books = books.map(({ title, author, readPriority, category }) => new Book({\r\n        title,\r\n        author,\r\n        readPriority,\r\n        category,\r\n      }))\r\n    } else {\r\n      this._books = [];\r\n    }\r\n  }\r\n\r\n  mapBooksData(books) {\r\n    return books.map(book => {\r\n      return {\r\n        title: book.getTitle(),\r\n        author: book.getAuthor(),\r\n        readPriority: book.getReadPriority(),\r\n        category: book.getCategory(),\r\n      }\r\n    })\r\n  }\r\n\r\n  printBooksOnScreen() {\r\n    this.booksList.innerHTML = `\r\n        <p class=\"author columnHeader\">Author</p>\r\n        <p class=\"title columnHeader\">Title</p>\r\n        <p class=\"priority columnHeader\">Read priority</p>\r\n        <p class=\"category columnHeader\">Category</p>`;\r\n    this.getBooks().map(book => {\r\n      const titleElem = document.createElement('p');\r\n      const authorElem = document.createElement('p');\r\n      const priorityElem = document.createElement('p');\r\n      const categoryElem = document.createElement('p');\r\n      titleElem.textContent = book.getTitle();\r\n      authorElem.textContent = book.getAuthor();\r\n      priorityElem.textContent = book.getReadPriority();\r\n      categoryElem.textContent = book.getCategory();\r\n      titleElem.classList.add('title');\r\n      authorElem.classList.add('author');\r\n      priorityElem.classList.add('priority');\r\n      categoryElem.classList.add('category');\r\n      this.booksList.appendChild(titleElem);\r\n      this.booksList.appendChild(authorElem);\r\n      this.booksList.appendChild(priorityElem);\r\n      this.booksList.appendChild(categoryElem);\r\n    })\r\n  }\r\n\r\n  handleAddBook(e) {\r\n    e.preventDefault();\r\n    const book = new Book({\r\n      title: this.bookTitle.value,\r\n      author: this.bookAuthor.value,\r\n      readPriority: this.readPriority.value,\r\n      category: this.bookCategory.value,\r\n    });\r\n    this.setBooks(book);\r\n    localStorage.setItem('books', JSON.stringify(this.mapBooksData(this.getBooks())));\r\n    this.printBooksOnScreen();\r\n    this.addBookForm.reset();\r\n    return false;\r\n  }\r\n\r\n  init() {\r\n    this.setBooks(JSON.parse(localStorage.getItem('books')));\r\n    this.printBooksOnScreen();\r\n    this.addBookForm.addEventListener('submit', this.handleAddBook.bind(this));\r\n  }\r\n}\r\n\r\nconst app = new App();\r\napp.init();"],"names":["$294c72fe9f2d99d5$export$c959ddfb5bf9a14a","author","title","readPriority","category","this","setAuthor","setTitle","setReadPriority","setCategory","author1","_author","validateAuthor","title1","_title","validateTitle","readPriority1","_readPriority","validateReadPriority","Number","category1","_category","validateCategory","getAuthor","getTitle","getReadPriority","getCategory","author2","Error","length","title2","priority","isNaN","category2","bookTitle","document","querySelector","bookAuthor","bookCategory","sendBtn","booksList","addBookForm","super","_books","getBooks","Array","isArray","setBooks","book1","push","books","map","mapBooksData","book","printBooksOnScreen","innerHTML","titleElem","createElement","authorElem","priorityElem","categoryElem","textContent","classList","add","appendChild","e","value","localStorage","setItem","JSON","stringify","reset","init","addEventListener","handleAddBook","bind"],"version":3,"file":"index.4ba1760e.js.map"}